<div class='content-wrapper'>
    <div class='row'>
        <div class='col-md-12 grid-margin'>
            <div class='row'>
                <div class='col-12 col-xl-8 mb-4 mb-xl-0'>
                    <h3 class='font-weight-bold title'>Category</h3>
                </div>

            </div>
        </div>
    </div>
    <div class='row'>

        <div class='col-md-12 grid-margin stretch-card'>
            <div class='card'>
                <div class='card-body'>
                    <div class='card-header'>
                        <p class='card-title'>Category Table</p>

                        <button
                            class='btn btn-primary btn-create'
                            type='button'
                            data-toggle='modal'
                            data-target='#exampleModal'
                        >+</button>
                    </div>
                    <div class='row'>
                        <div class='col-12'>
                            {{#if error}}
                                <div class='alert alert-danger' role='alert'>
                                    {{error}}
                                </div>
                            {{/if}}
                            <div class='table-responsive'>
                                <table class='display expandable-table' style='width: 100%'>
                                    <thead>
                                        <tr>
                                            <th>Quote#</th>
                                            <th>Title</th>
                                            <th>Description</th>
                                            <th>Image</th>
                                            <th>createdAt</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {{#each categories}}
                                            <tr>
                                                <td>
                                                    <input value='{{this.id}}' type='checkbox' name='id' id='id' />
                                                    {{sum @index 1}}
                                                </td>
                                                <td>{{this.title}}</td>
                                                <td>{{this.description}}</td>
                                                <td>{{this.image}}</td>
                                                <td>{{formatDate this.createdAt}}</td>
                                                <td class='details-control'>
                                                    <a
                                                        href='{{../route}}/{{this.id}}/edit'
                                                        id='btn-edit'
                                                        class='btn btn-primary'
                                                    >Edit</a>
                                                    <button
                                                        id='btn-confirm-delete'
                                                        data-id='{{this.id}}'
                                                        class='btn btn-danger'
                                                        data-toggle='modal'
                                                        data-target='#delete-modal'
                                                    >Delete</button>
                                                </td>
                                            </tr>

                                        {{/each}}

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

{{! Modal create }}
<div
    class='modal fade'
    id='exampleModal'
    tabindex='-1'
    role='dialog'
    aria-labelledby='exampleModalLabel'
    aria-hidden='true'
>
    <div class='modal-dialog modal-lg' role='document'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h5 class='modal-title' id='exampleModalLabel'>Create new category</h5>
                <button type='button' class='close' data-dismiss='modal' aria-label='Close'>
                    <span aria-hidden='true'>&times;</span>
                </button>
            </div>
            <div class='modal-body'>

                <form name='form' action='{{route}}' method='POST'>
                    <div class='form-group'>
                        <label for='title'>Title:</label>
                        <input type='text' name='title' class='form-control' id='title' placeholder='Enter title' />
                    </div>
                    <div class='form-group'>
                        <label for='description'>Description:</label>
                        <input
                            type='text'
                            name='description'
                            class='form-control'
                            id='description'
                            placeholder='Enter description'
                        />
                    </div>
                    <div class='form-group'>
                        <label for='image'>Image:</label>
                        <input type='text' name='image' class='form-control' id='image' placeholder='Enter image' />
                    </div>
                    <div class='form-group'>
                        <label for='content'>Content:</label>
                        <textarea
                            type='text'
                            name='content'
                            class='form-control'
                            id='content'
                            placeholder='Enter content'
                        ></textarea>
                    </div>

                </form>
            </div>
            <div class='modal-footer'>
                <button type='button' class='btn btn-secondary' data-dismiss='modal'>Close</button>
                <button id='btn-create' type='button' class='btn btn-primary'>Save changes</button>
            </div>
        </div>
    </div>
</div>

{{! Modal delete }}
<div
    class='modal fade'
    id='delete-modal'
    tabindex='-1'
    role='dialog'
    aria-labelledby='exampleModalLabel'
    aria-hidden='true'
>
    <div class='modal-dialog' role='document'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h5 class='modal-title' id='exampleModalLabel'>Delete categories</h5>
                <button type='button' class='close' data-dismiss='modal' aria-label='Close'>
                    <span aria-hidden='true'>&times;</span>
                </button>
            </div>
            <div class='modal-body'>
                Bạn có chắc chắn muốn xóa?
            </div>
            <div class='modal-footer'>
                <button id='btn-delete' type='button' class='btn btn-danger'>Ok</button>
                <button type='button' class='btn btn-secondary' data-dismiss='modal'>Cancel</button>
            </div>
        </div>
    </div>
</div>

<form name='form-delete' action='{{route}}' method='POST'></form>

<script src='/js/main.js'></script>
<script>
    document.addEventListener('DOMContentLoaded', function(){ const message = '{{{message}}}'; if(message)
    alert(message); });
</script>